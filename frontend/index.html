<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Click - Negocia√ß√£o Autom√°tica com AI</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body id="page-home">

    <header>
        <a href="index.html" class="logo">FINANCE CLICK</a>
        
        <nav id="mainNav">
            <a href="index.html" class="nav-link">P√°gina Inicial</a>
            <a href="dashboard.html" class="nav-link">Dashboard</a>
            <a href="history.html" class="nav-link">Hist√≥rico de Negocia√ß√£o</a>
            <a href="guide.html" class="nav-link">Guia e FAQ</a>
            <a href="about.html" class="nav-link">Sobre</a>
            <a href="contact.html" class="nav-link">Contato</a>
        </nav>

        <div class="header-actions">
            <div id="userInfo"></div>
            <button class="btn-login-logout" id="loginLogoutBtn">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <a class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </a>
        </div>
    </header>

    <main>
        <section id="home" class="page active">
            <div class="hero-section">
                <h1>Negocie no Piloto Autom√°tico. Alcance a Liberdade Financeira.</h1>
                <p>Conecte-se √† Deriv e use o nosso Rob√¥ AI inteligente para otimizar seus resultados com Accumulator Options.</p>
                
                <div id="connectionStatus" class="connection-status">
                    <i class="fas fa-circle"></i>
                    <span>Conectado √† Deriv API</span>
                </div>

                <div class="cta-group">
                    <a href="https://track.deriv.com/_08mad8P6-H8-WNa_P_Nb_2Nd7ZgqdRLk/1/" target="_blank" class="btn btn-primary">
                        <i class="fas fa-external-link-alt"></i> Abrir Conta Deriv
                    </a>
                    <a href="https://app.airtm.com/ivt/josu6i8tt4ui" target="_blank" class="btn btn-secondary">
                        <i class="fas fa-wallet"></i> Cadastrar na Airtm
                    </a>
                    <a href="dashboard.html" class="btn btn-success" id="goToDashboardBtn">
                        <i class="fas fa-tachometer-alt"></i> Ir para Dashboard
                    </a>
                </div>

                <div id="authWarning" class="auth-required">
                    <i class="fas fa-info-circle"></i>
                    <strong>Autentica√ß√£o Necess√°ria:</strong> Fa√ßa login com sua conta Deriv para acessar todas as funcionalidades.
                </div>
            </div>

            <div class="quick-stats" id="quickStats">
                <div class="stat-card">
                    <i class="fas fa-robot"></i>
                    <h3>Rob√¥ AI</h3>
                    <p id="robotStatusText">Status: Verificando...</p>
                    <small>Accumulator Options Automatizadas</small>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h3>Saldo da Conta</h3>
                    <p id="homeBalance">Carregando...</p>
                    <small>Atualizado em tempo real</small>
                </div>
                <div class="stat-card">
                    <i class="fas fa-bolt"></i>
                    <h3>Performance</h3>
                    <p id="performanceMetric">Analisando mercado...</p>
                    <small>Otimiza√ß√£o cont√≠nua</small>
                </div>
            </div>

            <div class="feature-cards">
                <div class="card">
                    <i class="fas fa-robot"></i>
                    <h2>AI Inteligente</h2>
                    <p>Estrat√©gias otimizadas 24/7 para Accumulator Options com m√°xima performance.</p>
                    <ul>
                        <li>An√°lise de risco em tempo real</li>
                        <li>Taxas de crescimento adaptativas</li>
                        <li>Gest√£o autom√°tica de trades</li>
                    </ul>
                </div>
                <div class="card">
                    <i class="fas fa-lock"></i>
                    <h2>Seguran√ßa Deriv</h2>
                    <p>Conex√£o via API segura para proteger seus fundos e dados.</p>
                    <ul>
                        <li>Autentica√ß√£o OAuth segura</li>
                        <li>Tokens de sess√£o criptografados</li>
                        <li>Comunica√ß√£o WebSocket protegida</li>
                    </ul>
                </div>
                <div class="card">
                    <i class="fas fa-mobile-alt"></i>
                    <h2>Totalmente Responsivo</h2>
                    <p>Acompanhe e configure o rob√¥ em qualquer dispositivo.</p>
                    <ul>
                        <li>Interface mobile-first</li>
                        <li>Notifica√ß√µes em tempo real</li>
                        <li>Gr√°ficos interativos</li>
                    </ul>
                </div>
            </div>

            <div class="benefits-section">
                <div>
                    <h2>Por que Accumulator Options?</h2>
                    <p>
                        A estrat√©gia ideal para mercados laterais com risco limitado e crescimento exponencial
                    </p>
                </div>
                
                <div>
                    <div>
                        <div>‚úì</div>
                        <h4>Risco Limitado</h4>
                        <p>Voc√™ s√≥ arrisca o valor do stake inicial. Sem surpresas desagrad√°veis.</p>
                    </div>
                    
                    <div>
                        <div>üìà</div>
                        <h4>Crescimento Exponencial</h4>
                        <p>Taxas de 1% a 5% por tick enquanto o pre√ßo permanece na faixa.</p>
                    </div>
                    
                    <div>
                        <div>‚ö°</div>
                        <h4>Resultados R√°pidos</h4>
                        <p>Trades de 1 a 60 ticks. Voc√™ v√™ os resultados em minutos.</p>
                    </div>
                </div>
            </div>

            <div>
                <h3>Pronto para Come√ßar?</h3>
                <p>
                    Conecte sua conta Deriv e ative o rob√¥ AI para negociar Accumulator Options automaticamente.
                </p>
                <div class="cta-group">
                    <a href="dashboard.html" class="btn btn-primary btn-large">
                        <i class="fas fa-rocket"></i> Iniciar no Dashboard
                    </a>
                    <a href="guide.html" class="btn btn-secondary">
                        <i class="fas fa-book"></i> Aprender Mais
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Finance Click. Todos os direitos reservados. | Negocia√ß√£o Inteligente e Respons√°vel.</p>
        <p>
            <i class="fas fa-exclamation-triangle"></i> 
            Aviso: A negocia√ß√£o envolve riscos. A performance passada n√£o garante resultados futuros.
        </p>
    </footer>

    <script src="/script.js"></script>
    
    <script>
        // Script espec√≠fico para a p√°gina inicial
        document.addEventListener('DOMContentLoaded', function() {
            // Atualizar interface baseada no estado de autentica√ß√£o
            function updateHomePageForAuth(user) {
                const authWarning = document.getElementById('authWarning');
                const quickStats = document.getElementById('quickStats');
                const goToDashboardBtn = document.getElementById('goToDashboardBtn');
                const connectionStatus = document.getElementById('connectionStatus');
                
                if (user) {
                    // Usu√°rio autenticado
                    if (authWarning) authWarning.style.display = 'none';
                    if (quickStats) quickStats.style.display = 'grid';
                    if (goToDashboardBtn) goToDashboardBtn.style.display = 'inline-block';
                    if (connectionStatus) connectionStatus.style.display = 'block';
                    
                    // Atualizar estat√≠sticas
                    updateHomeStats();
                } else {
                    // Usu√°rio n√£o autenticado
                    if (authWarning) authWarning.style.display = 'block';
                    if (quickStats) quickStats.style.display = 'none';
                    if (goToDashboardBtn) goToDashboardBtn.style.display = 'none';
                    if (connectionStatus) connectionStatus.style.display = 'none';
                }
            }
            
            // Atualizar estat√≠sticas da p√°gina inicial
            async function updateHomeStats() {
                const robotStatusText = document.getElementById('robotStatusText');
                const homeBalance = document.getElementById('homeBalance');
                const performanceMetric = document.getElementById('performanceMetric');
                
                try {
                    // Atualizar status do rob√¥
                    const robotStatusResponse = await fetch('/api/robot/status');
                    if (robotStatusResponse.ok) {
                        const robotStatus = await robotStatusResponse.json();
                        if (robotStatusText) {
                            robotStatusText.innerHTML = robotStatus.active ? 
                                '<span>‚óè Ativo</span>' : 
                                '<span>‚óè Inativo</span>';
                        }
                    }
                    
                    // Atualizar saldo
                    const balanceResponse = await fetch('/api/balance');
                    if (balanceResponse.ok) {
                        const balanceData = await balanceResponse.json();
                        if (homeBalance && balanceData.balance) {
                            homeBalance.textContent = `$${balanceData.balance.balance?.toFixed(2) || '0.00'}`;
                        }
                    }
                    
                    // Atualizar m√©trica de performance
                    const analysisResponse = await fetch('/api/market/analysis?symbol=1HZ100V&strategy=moderate');
                    if (analysisResponse.ok) {
                        const analysis = await analysisResponse.json();
                        if (performanceMetric) {
                            const successRate = (analysis.success_probability * 100).toFixed(1);
                            performanceMetric.innerHTML = 
                                `<span>
                                    ${successRate}% de sucesso
                                </span>`;
                        }
                    }
                } catch (error) {
                    console.error('Erro ao atualizar estat√≠sticas:', error);
                }
            }
            
            // Verificar autentica√ß√£o periodicamente (a cada 30 segundos)
            setInterval(() => {
                if (window.currentUser) {
                    updateHomeStats();
                }
            }, 30000);
            
            // Expor fun√ß√µes para o script principal
            window.updateHomePageForAuth = updateHomePageForAuth;
            window.updateHomeStats = updateHomeStats;
        });
    </script>
</body>
</html>